<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="module_info returns essential information about a BioCro module.
evaluate_module runs a BioCro module using a list of input quantity
  values.
quantity_list_from_names initializes a list of named numeric elements
  from a set of names.
module_response_curve runs a BioCro module repeatedly with different
  input quantity values to produce a response curve."><title>BioCro module functions — modules • BioCro</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="BioCro module functions — modules"><meta property="og:description" content="module_info returns essential information about a BioCro module.
evaluate_module runs a BioCro module using a list of input quantity
  values.
quantity_list_from_names initializes a list of named numeric elements
  from a set of names.
module_response_curve runs a BioCro module repeatedly with different
  input quantity values to produce a response curve."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-dark"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">BioCro</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">2.0.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item">
  <a class="nav-link" href="../about_pkgdown_documentation.html">About</a>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/a_practical_guide_to_biocro.pdf">A Practical Guide to BioCro (PDF)</a>
    <a class="dropdown-item" href="../articles/a_practical_guide_to_biocro.R">    R code</a>
    <div class="dropdown-divider"></div>
    <a class="dropdown-item" href="../articles/quantitative_model_comparison.pdf">Quantitative Comparison Between Two Photosynthesis Models (PDF)</a>
    <a class="dropdown-item" href="../articles/quantitative_model_comparison.R">    R code</a>
    <div class="dropdown-divider"></div>
    <a class="dropdown-item" href="../articles/an_introduction_to_biocro.pdf">An Introduction to BioCro for Those Who Want to Add Models (PDF)</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href=".././bookdown_book/index.html">Developer's Manual</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-c-library">C++ Library</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-c-library">
    <a class="dropdown-item" href="../doxygen/doxygen_docs_complete/index.html">Complete Doxygen Documentation</a>
    <a class="dropdown-item" href="../doxygen/doxygen_docs_framework/index.html">Framework Documentation</a>
    <a class="dropdown-item" href="../doxygen/doxygen_docs_modules/index.html">BioCro Module Documentation</a>
  </div>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/ebimodeling/biocro/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>BioCro module functions</h1>
      
      <div class="d-none name"><code>modules.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p><code>module_info</code> returns essential information about a BioCro module.</p>
<p><code>evaluate_module</code> runs a BioCro module using a list of input quantity
  values.</p>
<p><code>quantity_list_from_names</code> initializes a list of named numeric elements
  from a set of names.</p>
<p><code>module_response_curve</code> runs a BioCro module repeatedly with different
  input quantity values to produce a response curve.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">module_info</span><span class="op">(</span><span class="va">module_name</span>, verbose <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span>  <span class="fu">evaluate_module</span><span class="op">(</span><span class="va">module_name</span>, <span class="va">input_quantities</span><span class="op">)</span></span>
<span></span>
<span>  <span class="fu">quantity_list_from_names</span><span class="op">(</span><span class="va">quantity_names</span><span class="op">)</span></span>
<span></span>
<span>  <span class="fu">module_response_curve</span><span class="op">(</span><span class="va">module_name</span>, <span class="va">fixed_quantities</span>, <span class="va">varying_quantities</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>module_name</dt>
<dd><p>A string representing the name of one BioCro module
    <!-- % TO DO: update this once passing multiple modules is implemented --></p></dd>


  <dt>verbose</dt>
<dd><p>A boolean indicating whether or not to print information to the R console</p></dd>


  <dt>input_quantities</dt>
<dd><p>A list of named numeric elements representing the input quantities required
    by the module; any extraneous quantities will be ignored by the module</p></dd>


  <dt>quantity_names</dt>
<dd><p>A vector of strings</p></dd>


  <dt>fixed_quantities</dt>
<dd><p>A list of named numeric elements representing input quantities required
    by the module whose values should be considered to be constant; any
    extraneous quantities will be ignored by the module</p></dd>


  <dt>varying_quantities</dt>
<dd><p>A data frame where each column represents an input quantity required by the
    module whose value varies across the response curve</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>By providing avenues for retrieving information about a module and evaluating
  a module's equations, the <code>module_info</code> and <code>evaluate_module</code>
  functions form the main interface to individual BioCro modules from within R.
  The <code>quantity_list_from_names</code> function is a convenience function for
  preparing suitable quantity lists to pass to <code>evaluate_module</code>.</p>
<p>The <code>module_response_curve</code> function provides a convenient way to
  calculate a module response curve. To do this, a user must specify a module to
  use, the values of any fixed input quantities (<code>input_quantities</code>), and
  a sequence of values for other quantities that vary across the response curve
  (<code>varying_quantities</code>). The returned data frame includes all the
  information that would be required to reproduce the curve: the module name,
  all inputs (including ones with constant values), and the outputs. Note: if
  one quantity <code>q</code> is both an input and output of the module, its input
  value will be stored in the <code>q</code> column of the returned data frame and its
  output value will be stored in the <code>q.1</code> column; this renaming is
  performed automatically by the <code><a href="https://rdrr.io/r/base/make.unique.html" class="external-link">make.unique</a></code> function.</p>
    </div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <dl><dt>module_info</dt>
<dd><p>An <code><a href="https://rdrr.io/r/base/invisible.html" class="external-link">invisible</a></code> list of several named elements containing
    essential information about the module:</p><ul><li><p><code>module_name</code>: The module's name</p></li>
<li><p><code>inputs</code>: A character vector of the module's inputs</p></li>
<li><p><code>outputs</code>: A character vector of the module's outputs</p></li>
<li><p><code>type</code>: The module's type represented as a string (either
            'differential' or 'direct')</p></li>
<li><p><code>euler_requirement</code>: Indicates whether the module requires a
            fixed-step Euler ODE solver when used in a BioCro simulation</p></li>
<li><p><code>creation_error_message</code>: Describes any errors that occurred
            while creating an instance of the module</p></li>
</ul><p></p></dd>


  <dt>evaluate_module</dt>
<dd><p>A list of named numeric elements representing the values of the module's
    outputs as calculated from the <code>input_quantities</code> according to the
    module's equations.</p></dd>


  <dt>quantity_list_from_names</dt>
<dd><p>A list of named numeric elements, where the names are set by
    <code>quantity_names</code> and each value is initialized to 1.</p></dd>


  <dt>module_response_curve</dt>
<dd><p>A data frame where the first column is the name of the module that produced
    the response curve and the remaining columns are the module's input and
    output quantities. Each row corresponds to a row in the
    <code>varying_quantities</code>.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p></p><ul><li><p><code><a href="get_all.html">get_all_modules</a></code></p></li>
<li><p><code><a href="partial_application.html">partial_evaluate_module</a></code></p></li>
</ul></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># Example 1: printing information about the 'c3_assimilation' module to the R</span></span></span>
<span class="r-in"><span><span class="co"># console</span></span></span>
<span class="r-in"><span><span class="fu">module_info</span><span class="op">(</span><span class="st">'c3_assimilation'</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Module name:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   c3_assimilation</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Module input quantities:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Qp</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Tleaf</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   rh</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   vmax1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   jmax</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   tpu_rate_max</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Rd</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   b0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   b1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Gs_min</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Catm</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   atmospheric_pressure</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   O2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   theta</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   StomataWS</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   water_stress_approach</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   electrons_per_carboxylation</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   electrons_per_oxygenation</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Module output quantities:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Assim</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Gs</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Ci</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   GrossAssim</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Module type (differential or direct):</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   direct</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Requires a fixed step size Euler ode_solver:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   no</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Example 2: getting the inputs to the 'thermal_time_linear' module, generating</span></span></span>
<span class="r-in"><span><span class="co"># a default input list, and using it to run the module</span></span></span>
<span class="r-in"><span><span class="va">info</span> <span class="op">&lt;-</span> <span class="fu">module_info</span><span class="op">(</span><span class="st">'thermal_time_linear'</span>, verbose <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">inputs</span> <span class="op">&lt;-</span> <span class="fu">quantity_list_from_names</span><span class="op">(</span><span class="va">info</span><span class="op">$</span><span class="va">inputs</span><span class="op">)</span> <span class="co"># All inputs will be set to 1</span></span></span>
<span class="r-in"><span><span class="va">outputs</span> <span class="op">&lt;-</span> <span class="fu">evaluate_module</span><span class="op">(</span><span class="st">'thermal_time_linear'</span>, <span class="va">inputs</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Example 3: calculating the temperature response of light saturated net</span></span></span>
<span class="r-in"><span><span class="co"># assimilation at several values of relative humidity in the absence of water</span></span></span>
<span class="r-in"><span><span class="co"># stress using the 'c3_assimilation' module and soybean parameters. Here, the</span></span></span>
<span class="r-in"><span><span class="co"># leaf temperature and humidity values are independent of each other, so we use</span></span></span>
<span class="r-in"><span><span class="co"># the `expand.grid` function to form a data frame of all possible combinations</span></span></span>
<span class="r-in"><span><span class="co"># of their values.</span></span></span>
<span class="r-in"><span><span class="va">rc</span> <span class="op">&lt;-</span> <span class="fu">module_response_curve</span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="st">'c3_assimilation'</span>,</span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/base/with.html" class="external-link">within</a></span><span class="op">(</span><span class="va">soybean_parameters</span>, <span class="op">{</span><span class="va">Qp</span> <span class="op">=</span> <span class="fl">2000</span>; <span class="va">StomataWS</span> <span class="op">=</span> <span class="fl">1</span><span class="op">}</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/base/expand.grid.html" class="external-link">expand.grid</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    Tleaf <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span>from <span class="op">=</span> <span class="fl">0</span>, to <span class="op">=</span> <span class="fl">40</span>, length.out <span class="op">=</span> <span class="fl">201</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    rh <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.2</span>, <span class="fl">0.5</span>, <span class="fl">0.8</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">caption</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="st">"Response curves calculated with several RH\nvalues and Q ="</span>,</span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="va">rc</span><span class="op">$</span><span class="va">Qp</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  <span class="st">"micromol / m^2 / s\nusing the"</span>,</span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="va">rc</span><span class="op">$</span><span class="va">module_name</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  <span class="st">"module"</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">lattice</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/lattice/man/xyplot.html" class="external-link">xyplot</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="va">Assim</span> <span class="op">~</span> <span class="va">Tleaf</span>,</span></span>
<span class="r-in"><span>  group <span class="op">=</span> <span class="va">rh</span>,</span></span>
<span class="r-in"><span>  data <span class="op">=</span> <span class="va">rc</span>,</span></span>
<span class="r-in"><span>  auto <span class="op">=</span> <span class="cn">TRUE</span>,</span></span>
<span class="r-in"><span>  type <span class="op">=</span> <span class="st">'l'</span>,</span></span>
<span class="r-in"><span>  main <span class="op">=</span> <span class="va">caption</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="modules-1.png" alt="" width="700" height="433"></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by McGrath Justin M., Lochocki Edward B., Rohde Scott, Jaiswal Deepak, Matthews Megan L., Miguez Fernando E., Long Stephen P..</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

